id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
View(gaze_df)
gaze_data[[1]]$time_collected
gaze_data[[2]]$time_collected
gaze_data[[10]]$time_collected
gaze_data[[11]]$time_collected
gaze_data[[9]]$time_collected
length(gaze_data[[9]]$info$gaze_x)
length(gaze_data)
length(gaze_data[[10]]$info$gaze_x)
gaze_data[[40]]$time_collected
gaze_data[[9]]$time_collected
gaze_data[[11]]$time_collected
gaze_df <- unique(gaze_df)
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
gaze_df <- unique(gaze_df)
}
View(gaze_df)
print (column_length)
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
print (column_length)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
gaze_df <- unique(gaze_df)
}
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
print (column_length)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
gaze_df  = data.frame()
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
print (column_length)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
gaze_df <- unique(gaze_df)
}
for (i in 1:length(gaze_data)){
print (i)
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
gaze_df <- unique(gaze_df)
}
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
print (i)
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
gaze.temp <- data.frame(gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame(gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame( screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- rep(info$elapsedTime, column_length)
gaze.temp <- data.frame( task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- info$elapsedTime
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
gaze_data <- read_data("getCSV/data.json")
gaze_data <- fromJSON("getCSV/data.json")
rm(list=ls())
cat("\014")
gaze_data <- fromJSON("getCSV/data.json")
gaze_data <- read_data("getCSV/data.json")
read_data  <- function(jsonfile){
gaze_data <- fromJSON(jsonfile)
# get all calibration position
calibration_positions <- data.frame()
# get all validation positions
validation_positions <- data.frame()
# get all simple positions
simple_positions <- data.frame()
# get all simple positions
pursuit_positions <- data.frame()
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- info$elapsedTime
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
names(gaze_df) <- c("id","time_stamp","url","description","task","elapsed_time","gaze_x","gaze_y","object_x","object_y")
return (gaze_df)
}
gaze_data <- read_data("getCSV/data.json")
read_data  <- function(jsonfile){
gaze_data <- fromJSON(jsonfile)
# get all calibration position
calibration_positions <- data.frame()
# get all validation positions
validation_positions <- data.frame()
# get all simple positions
simple_positions <- data.frame()
# get all simple positions
pursuit_positions <- data.frame()
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- info$elapsedTime
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
names(gaze_df) <- c("id","time_stamp","url","description","task","elapsed_time","gaze_x","gaze_y","object_x","object_y")
return (validation_positions, gaze_df)
}
(validation_positions, gaze_df) <- read_data("getCSV/data.json")
gaze_data <- fromJSON("getCSV/data.json")
# get all calibration position
calibration_positions <- data.frame()
# get all validation positions
validation_positions <- data.frame()
# get all simple positions
simple_positions <- data.frame()
# get all simple positions
pursuit_positions <- data.frame()
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- info$elapsedTime
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
names(gaze_df) <- c("id","time_collected","url","description","task","elapsed_time","screen_width","screen_height","gaze_x","gaze_y","object_x","object_y")
gaze_df$gaze_x_per <- gaze_df$gaze_x / gaze_df$screen_width
gaze_df$gaze_y_per <- gaze_df$gaze_y / gaze_df$screen_height
gaze_df$object_x_per <- gaze_df$object_x / gaze_df$screen_width
gaze_data$object_y_per <- gaze_df$object_y / gaze_df$screen_height
View(gaze_df)
gaze_data$object_y_per <- gaze_df$object_y / gaze_df$screen_height
gaze_df$object_x_per <- gaze_df$object_x / gaze_df$screen_width
gaze_data$object_y_per <- gaze_df$object_y / gaze_df$screen_height
names(gaze_df) <- c("id","time_collected","url","description","task","elapsed_time","screen_width","screen_height","gaze_x","gaze_y","object_x","object_y")
rm(list=ls())
cat("\014")
graphics.off()
library(ggplot2)
library(jsonlite)
setwd("C:/Users/quang/OneDrive/Researches/webcam-eyetracking/Analysis tool")
gaze_data <- fromJSON("getCSV/data.json")
# get all calibration position
calibration_positions <- data.frame()
# get all validation positions
validation_positions <- data.frame()
# get all simple positions
simple_positions <- data.frame()
# get all simple positions
pursuit_positions <- data.frame()
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- info$elapsedTime
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
names(gaze_df) <- c("id","time_collected","url","description","task","elapsed_time","screen_width","screen_height","gaze_x","gaze_y","object_x","object_y")
gaze_df$gaze_x_per <- gaze_df$gaze_x / gaze_df$screen_width
gaze_df$gaze_y_per <- gaze_df$gaze_y / gaze_df$screen_height
gaze_df$object_x_per <- gaze_df$object_x / gaze_df$screen_width
gaze_data$object_y_per <- gaze_df$object_y / gaze_df$screen_height
gaze_data$dist_pixel <- sqrt((gaze_data$object_x - gaze_data$gaze_x)^2 + (gaze_data$object_y - gaze_data$gaze_y)^2)
rm(list=ls())
cat("\014")
graphics.off()
library(ggplot2)
library(jsonlite)
setwd("C:/Users/quang/OneDrive/Researches/webcam-eyetracking/Analysis tool")
gaze_data <- fromJSON("getCSV/data.json")
# get all calibration position
calibration_positions <- data.frame()
# get all validation positions
validation_positions <- data.frame()
# get all simple positions
simple_positions <- data.frame()
# get all simple positions
pursuit_positions <- data.frame()
gaze_df  = data.frame()
for (i in 1:length(gaze_data)){
validation_positions <-unique(rbind(validation_positions,gaze_data[[i]]$info$validation_position_array))
simple_positions <-unique(rbind(simple_positions,gaze_data[[i]]$info$simple_position_array))
calibration_positions <-unique(rbind(calibration_positions,gaze_data[[i]]$info$caliration_position_array))
pursuit_positions <-unique(rbind(pursuit_positions,gaze_data[[i]]$info$pursuit_position_array))
info <- gaze_data[[i]]$info
gaze_x <- info$gaze_x
gaze_y <- info$gaze_y
object_x <- info$object_x
object_y <- info$object_y
column_length <- length(gaze_x)
id <- rep(gaze_data[[i]]$gazer_id,column_length)
time_collected <- rep(gaze_data[[i]]$time_collected,column_length)
url <- rep(info$url,column_length)
description <- rep(info$description,column_length)
task <- rep (info$task, column_length, column_length)
screen_width <- rep(info$canvasWidth, column_length)
screen_height <- rep(info$canvasHeight, column_length)
elapsed_time <- info$elapsedTime
gaze.temp <- data.frame(id,time_collected, url, description, task, elapsed_time, screen_width, screen_height,gaze_x,gaze_y,object_x,object_y)
gaze_df <- rbind(gaze_df,gaze.temp)
}
names(gaze_df) <- c("id","time_collected","url","description","task","elapsed_time","screen_width","screen_height","gaze_x","gaze_y","object_x","object_y")
gaze_df$gaze_x_per <- gaze_df$gaze_x / gaze_df$screen_width
gaze_df$gaze_y_per <- gaze_df$gaze_y / gaze_df$screen_height
gaze_df$object_x_per <- gaze_df$object_x / gaze_df$screen_width
gaze_df$object_y_per <- gaze_df$object_y / gaze_df$screen_height
View(gaze_df)
gaze_df$dist_pixel <- sqrt((gaze_df$object_x - gaze_df$gaze_x)^2 + (gaze_df$object_y - gaze_df$gaze_y)^2)
summary(gaze_df$dist_pixel)
View(gaze_df)
gaze_df$dist_per <- sqrt((gaze_df$object_x_per - gaze_df$gaze_x_per)^2 + (gaze_df$object_y_per - gaze_df$gaze_y_per)^2)
summary(gaze_df$dist_per)
ggplot(gaze_data,aes(elapsed_time,dist_pixel)) + geom_point(shape  = 1) + geom_smooth()
ggplot(gaze_df,aes(elapsed_time,dist_pixel)) + geom_point(shape  = 1) + geom_smooth()
ggplot(gaze_df,aes(elapsed_time,dist_pixel_per)) + geom_point(shape  = 1) + geom_smooth()
ggplot(gaze_df,aes(elapsed_time,dist_per)) + geom_point(shape  = 1) + geom_smooth()
ggplot(gaze_df,aes(elapsed_time,dist_pixel)) + geom_point(shape  = 1) + geom_smooth()
